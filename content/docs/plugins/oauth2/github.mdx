---
title: GitHub
description: Guide on how to set up GitHub authentication using GoBetterAuth.
---

**Note:** This guide uses GitHub Apps for user sign-in, which is recommended by GitHub for new integrations.

import { Step, Steps } from "fumadocs-ui/components/steps";

<Steps>
<Step>

### Obtain GitHub credentials

1. Go to [GitHub Apps](https://github.com/settings/apps).
1. Click on "New GitHub App".
1. Fill in the GitHub App name, Homepage URL, and Description.
1. On the app page, generate a Client secret under "Client secrets".
1. Note the Client ID and the generated Client Secret.
1. Under the "Identifying and authorizing users" section, set the Callback URL to:
   ```bash
   # Assuming base path is /api/auth
   http://localhost:8080/api/auth/oauth2/callback/github
   ```
   For production, replace localhost with the base URL of your GoBetterAuth server (e.g. `https://api.yourdomain.com`).
1. Make sure to check the following checkboxes:
   - Request user authorization (OAuth) during installation
   - Enable Device Flow
1. Then save the changes and click on the "Permissions & events" tab on the left, under the "Account permissions", set the "Email addresses" to "Read-only" to access the user's email.

</Step>

<Step>

### Configure the provider

#### Standalone Mode

Add the following to your `config.toml`:

```toml
# SECURITY NOTE: It is recommended to set the 'client_secret' for each of these via their
# respective environment variables as shown in the .env.example file rather than hardcoding it here.
[plugins.oauth2.providers.github]
enabled = true
client_id = "your-client-id"
client_secret = "your-client-secret"
redirect_url = "http://localhost:8080/auth/oauth2/callback/github"
scopes = []
```

#### Library Mode

```go
import (
  "os"
  "fmt"

  gobetterauth "github.com/GoBetterAuth/go-better-auth/v2"
  gobetterauthconfig "github.com/GoBetterAuth/go-better-auth/v2/config"
  gobetterauthmodels "github.com/GoBetterAuth/go-better-auth/v2/models"
  oauth2plugin "github.com/GoBetterAuth/go-better-auth/v2/plugins/oauth2"
  oauth2plugintypes "github.com/GoBetterAuth/go-better-auth/v2/plugins/oauth2/types"
)

func main() {
	config := gobetterauthconfig.NewConfig(
    gobetterauthconfig.WithSecurity(gobetterauthmodels.SecurityConfig{
      // Make sure to configure CORS and Trusted Origins appropriately
      TrustedOrigins: []string{"your frontend origin"},
      CORS: gobetterauthmodels.CORSConfig{
        AllowCredentials: true,
        AllowedOrigins:   []string{"your frontend origin"},
      },
    }),
  )
	auth := gobetterauth.New(&gobetterauth.AuthConfig{
		Config:  config,
		Plugins: [
			oauth2plugin.New(oauth2plugintypes.OAuth2PluginConfig{
        Enabled: true,
        Providers: map[string]oauth2plugintypes.ProviderConfig{
          "github": {
            Enabled:      true,
            ClientID:     os.Getenv(gobetterauthenv.EnvGitHubClientID),
            ClientSecret: os.Getenv(gobetterauthenv.EnvGitHubClientSecret),
            RedirectURL:  fmt.Sprintf("%s%s/oauth2/callback/github", config.BaseURL, config.BasePath),
          },
        },
      }),
		],
	})

	// Start the server and mount the handler
	log.Fatal(http.ListenAndServe(":8080", auth.Handler()))
}
```

</Step>

<Step>

### Test the integration

1. Start your GoBetterAuth server.
2. In your webapp, create a button when clicked on, it navigates the user to:
   ```bash
   # (replace localhost with your GoBetterAuth server URL in production).
   http://localhost:8080/auth/oauth2/authorize/github?redirect_to=<YOUR_REDIRECT_URL>
   ```
3. You should be redirected to GitHub's authorization page. After authorizing, you will be redirected back to your application.

</Step>

</Steps>
