---
title: Email & Password Authentication
description: Complete email and password setup with verification
---

```go
package main

import (
	"context"
	"os"
	"log"
	"net/http"

	gobetterauth "github.com/GoBetterAuth/go-better-auth"
	gobetterauthdomain "github.com/GoBetterAuth/go-better-auth/pkg/domain"
)

func main() {
	config := gobetterauthdomain.NewConfig(
		gobetterauthdomain.WithAppName("YourAppName"),
		gobetterauthdomain.WithDatabase(gobetterauthdomain.DatabaseConfig{
			Provider:         "postgres",
			ConnectionString: os.Getenv("DATABASE_URL"),
		}),
		gobetterauthdomain.WithEmailPassword(gobetterauthdomain.EmailPasswordConfig{
			Enabled:                  true,
			RequireEmailVerification: true,
		}),
		gobetterauthdomain.WithEmailVerification(gobetterauthdomain.EmailVerificationConfig{
			SendOnSignUp: true,
			SendVerificationEmail: func(user gobetterauthdomain.User, url string, token string) error {
				// Implement your email sending logic here
				return nil
			},
		}),
	)
	auth := gobetterauth.New(config)

	http.Handle("/auth/", auth.Handler())

	log.Fatal(http.ListenAndServe(":8080", nil))
}
```

## Password Policies

Configure password requirements:

```go
gobetterauthdomain.WithEmailPassword(gobetterauthdomain.EmailPasswordConfig{
	MinPasswordLength: 8,
	MaxPasswordLength: 32,
})
```

## Custom Password Hashing

Use custom password hashing (bcrypt example):

```go
import "golang.org/x/crypto/bcrypt"

gobetterauthdomain.WithEmailPassword(gobetterauthdomain.EmailPasswordConfig{
	Password: &gobetterauthdomain.PasswordConfig{
		Hash: func(password string) (string, error) {
			hashed, err := bcrypt.GenerateFromPassword([]byte(password), bcrypt.DefaultCost)
			if err != nil {
				return "", err
			}
			return string(hashed), nil
		},
		Verify: func(password, hash string) bool {
			err := bcrypt.CompareHashAndPassword([]byte(hash), []byte(password))
			return err == nil
		},
	},
})
```

## User Registration Flow

1. User submits email and password
1. Account is created (unverified)
1. Verification email is sent
1. User clicks verification link
1. Account is marked as verified
1. User can sign in

## Password Reset Flow

1. User requests password reset
1. Reset password email verification link is sent
1. User clicks link and is redirected back to the app
1. User submits new password
1. Old password is changed to the new one
1. User can sign in with new password
